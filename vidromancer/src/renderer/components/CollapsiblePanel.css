/* ─────────────────────────────────────────────────────────────────────────────
   Collapsible Panel - Minimizable sidebar sections
   ───────────────────────────────────────────────────────────────────────────── */

.collapsible-panel {
    display: flex;
    flex-direction: column;
    background: var(--vm-enclosure-base);
    border: 1px solid var(--vm-panel-border);
    border-radius: 4px;
    overflow: hidden;
    transition: all var(--vm-transition-fast);
}

.collapsible-panel.collapsed {
    flex: 0 0 auto;
}

.collapsible-panel.expanded {
    flex: 1 1 auto;
    min-height: 100px;
}

/* ─────────────────────────────────────────────────────────────────────────────
   Panel Header
   ───────────────────────────────────────────────────────────────────────────── */

.collapsible-panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 10px;
    background: linear-gradient(180deg, var(--vm-enclosure-light) 0%, var(--vm-enclosure-mid) 100%);
    border-bottom: 1px solid var(--vm-panel-border);
    cursor: pointer;
    user-select: none;
    transition: background var(--vm-transition-fast);
}

.collapsible-panel-header:hover {
    background: linear-gradient(180deg, var(--vm-enclosure-mid) 0%, var(--vm-enclosure-light) 100%);
}

.collapsible-panel.collapsed .collapsible-panel-header {
    border-bottom: none;
}

.collapsible-panel-title {
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: var(--font-label);
    font-size: 10px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--vm-silkscreen);
}

.collapse-chevron {
    font-size: 8px;
    color: var(--vm-text-dim);
    transition: transform var(--vm-transition-fast);
    display: inline-block;
    width: 10px;
}

.collapse-chevron.expanded {
    transform: rotate(90deg);
}

.panel-icon {
    font-size: 11px;
    opacity: 0.7;
}

.panel-title-text {
    color: var(--vm-silkscreen);
}

.collapsible-panel-header-right {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* ─────────────────────────────────────────────────────────────────────────────
   Panel Content
   ───────────────────────────────────────────────────────────────────────────── */

.collapsible-panel-content {
    display: none;
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    background: var(--vm-enclosure-dark);
}

.collapsible-panel-content.expanded {
    display: flex;
    flex-direction: column;
}

/* ─────────────────────────────────────────────────────────────────────────────
   LED Indicator in header
   ───────────────────────────────────────────────────────────────────────────── */

.collapsible-panel-header .led-indicator {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--vm-enclosure-dark);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
    transition: all var(--vm-transition-fast);
}

.collapsible-panel-header .led-indicator.active {
    background: var(--vm-led-green);
    box-shadow:
        0 0 4px var(--vm-led-green-glow),
        inset 0 -1px 2px rgba(0, 0, 0, 0.3);
}

/* ─────────────────────────────────────────────────────────────────────────────
   Scrollbar styling for panel content
   ───────────────────────────────────────────────────────────────────────────── */

.collapsible-panel-content::-webkit-scrollbar {
    width: 6px;
}

.collapsible-panel-content::-webkit-scrollbar-track {
    background: var(--vm-enclosure-dark);
}

.collapsible-panel-content::-webkit-scrollbar-thumb {
    background: var(--vm-enclosure-light);
    border-radius: 3px;
}

.collapsible-panel-content::-webkit-scrollbar-thumb:hover {
    background: var(--vm-text-dim);
}
